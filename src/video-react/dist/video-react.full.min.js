(function(e,a){'object'==typeof exports&&'undefined'!=typeof module?a(exports,require('react'),require('react-dom')):'function'==typeof define&&define.amd?define(['exports','react','react-dom'],a):a(e['video-react']=e['video-react']||{},e.React,e.ReactDOM)})(this,function(e,a,t){'use strict';function n(e,a){return a={exports:{}},e(a,a.exports),a.exports}function o(e){return function(){return e}}function r(e){if(null===e||e===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(e)}function l(e){if('object'!==('undefined'==typeof e?'undefined':J(e))||null===e)return!1;for(var a=e;null!==Object.getPrototypeOf(a);)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(e)===a}function d(e,a,t){function n(){h===u&&(h=u.slice())}function o(){if(y)throw new Error('You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.');return p}function r(e){if('function'!=typeof e)throw new Error('Expected the listener to be a function.');if(y)throw new Error('You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');var a=!0;return n(),h.push(e),function(){if(a){if(y)throw new Error('You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.');a=!1,n();var t=h.indexOf(e);h.splice(t,1)}}}function i(e){if(!l(e))throw new Error('Actions must be plain objects. Use custom middleware for async actions.');if('undefined'==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(y)throw new Error('Reducers may not dispatch actions.');try{y=!0,p=c(p,e)}finally{y=!1}for(var a,t=u=h,n=0;n<t.length;n++)a=t[n],a();return e}var s;if('function'==typeof a&&'undefined'==typeof t&&(t=a,a=void 0),'undefined'!=typeof t){if('function'!=typeof t)throw new Error('Expected the enhancer to be a function.');return t(d)(e,a)}if('function'!=typeof e)throw new Error('Expected the reducer to be a function.');var c=e,p=a,u=[],h=u,y=!1;return i({type:Z.INIT}),s={dispatch:i,subscribe:r,getState:o,replaceReducer:function(e){if('function'!=typeof e)throw new Error('Expected the nextReducer to be a function.');c=e,i({type:Z.REPLACE})}},s[X]=function(){var e,a=r;return e={subscribe:function(e){function t(){e.next&&e.next(o())}if('object'!==('undefined'==typeof e?'undefined':J(e))||null===e)throw new TypeError('Expected the observer to be an object.');t();var n=a(t);return{unsubscribe:n}}},e[X]=function(){return this},e},s}function i(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Fe,a=arguments[1];switch(a.type){case De:return H({},e,{userActivity:a.activity});case Me:return H({},e,{isActive:a.activity});case we:return H({},e,{isFullscreen:!!a.isFullscreen});case ie:return H({},e,{seekingTime:a.time});case se:return H({},e,{seekingTime:0});case $:return H({},e,a.videoProps,{hasStarted:!1,ended:!1});case Q:return H({},e,a.videoProps,{waiting:!1});case ee:return H({},e,a.videoProps,{waiting:!0});case ae:case te:return H({},e,a.videoProps,{waiting:!1});case ne:return H({},e,a.videoProps,{ended:!1,paused:!1,autoPaused:!1,waiting:!1,hasStarted:!0});case oe:return H({},e,a.videoProps,{paused:!0});case re:return H({},e,a.videoProps,{ended:!0});case le:return H({},e,a.videoProps,{seeking:!0});case de:return H({},e,a.videoProps,{seeking:!1});case Pe:return H({},e,a.videoProps,{error:'UNKNOWN ERROR',ended:!0});case ce:case pe:case ue:case he:case ye:case ve:case me:case ge:case ke:case be:case fe:case Ce:var t=H({},e,a.videoProps);return!1===a.videoProps.paused&&(t.hasStarted=!0,t.waiting=!1),t;default:return e;}}function s(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:Re,a=arguments[1];switch(a.type){case Ne:return H({},e,{count:e.count+1,operation:H({},e.operation,a.operation)});default:return e;}}function c(e){var a=e.player,t=e.className;return a.error?null:D.createElement('div',{className:q('video-react-loading-spinner',t)})}function p(e){var a=e.poster,t=e.player,n=e.actions,o=e.className;return!a||t.hasStarted?null:D.createElement('div',{className:q('video-react-poster',o),style:{backgroundImage:'url("'+a+'")'},onClick:function(){t.paused&&n.play()}})}function u(){var e=Math.floor,a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a,n=e(a%60),o=e(a/60%60),r=e(a/3600),l=e(t/60%60),d=e(t/3600);return(isNaN(a)||a===Infinity)&&(r=o=n='-'),r=0<r||0<d?r+':':'',o=((r||10<=l)&&10>o?'0'+o:o)+':',n=10>n?'0'+n:n,r+o+n}function h(e){return e.props&&e.props.isVideoChild||'source'===e.type||'track'===e.type}function y(a,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,o=D.Children.toArray(e),r=H({},t);return o.filter(function(a){return!a.props.disabled}).concat(a.filter(function(e){return!je(o,function(a){return Ue(a,e)})})).map(function(t){var n=je(a,function(e){return Ue(e,t)});delete r.order;var o=n?n.props:{},l=H({},r,o,t.props),d=D.cloneElement(t,l,t.props.children);return d}).sort(function(e,a){return(e.props.order||n)-(a.props.order||n)})}function v(e,a){console.warn('WARNING: '+e+' will be deprecated soon! Please use '+a+' instead.')}function m(e,a){var t=arguments,n=!1;return function(){n||(e.apply(null,t),n=!0,setTimeout(function(){n=!1},a))}}function g(e){var a=Math.round,t=void 0;if(e.getBoundingClientRect&&e.parentNode&&(t=e.getBoundingClientRect()),!t)return{left:0,top:0};var n=document.documentElement,o=document.body,r=n.clientLeft||o.clientLeft||0,l=window.pageXOffset||o.scrollLeft,d=t.left+l-r,i=n.clientTop||o.clientTop||0,s=window.pageYOffset||o.scrollTop,c=t.top+s-i;return{left:a(d),top:a(c)}}function k(e,a){var t=Math.max,n=Math.min,o={},r=g(e),l=e.offsetWidth,d=e.offsetHeight,i=r.top,s=r.left,c=a.pageY,p=a.pageX;return a.changedTouches&&(p=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),o.y=t(0,n(1,(i-c+d)/d)),o.x=t(0,n(1,(p-s)/l)),o}function b(e,a){for(var t=e.className.split(' '),n=0;n<t.length;n++)if(t[n].toLowerCase()===a.toLowerCase())return!0;return!1}function f(e){var a=e.currentTime,t=e.duration,n=e.percentage,o=e.className;return D.createElement('div',{"data-current-time":u(a,t),className:q('video-react-play-progress video-react-slider-bar',o),style:{width:n}},D.createElement('span',{className:'video-react-control-text'},D.createElement('span',null,'Progress'),': ',n))}function C(e){function a(e,a){var t=e/a||0;return 100*(1<=t?1:t)+'%'}var t=e.buffered,n=e.duration,o=e.className;if(!t||!t.length)return null;var r=t.end(t.length-1),l={};r>n&&(r=n),l.width=a(r,n);for(var d=[],s=0;s<t.length;s++){var i=t.start(s),c=t.end(s),p=D.createElement('div',{style:{left:a(i,r),width:a(c-i,r)},key:'part-'+s});d.push(p)}return 0===d.length&&(d=null),D.createElement('div',{style:l,className:q('video-react-load-progress',o)},D.createElement('span',{className:'video-react-control-text'},D.createElement('span',null,'Loaded'),': 0%'),d)}function P(e){var a=e.duration,t=e.mouseTime,n=e.className,o=e.text;if(!t.time)return null;var r=o||u(t.time,a);return D.createElement('div',{className:q('video-react-mouse-display',n),style:{left:t.position+'px'},"data-current-time":r})}function E(e){var a=e.player,t=a.currentTime,n=a.duration,o=e.className,r=u(n-t);return D.createElement('div',{className:q('video-react-remaining-time video-react-time-control video-react-control',o)},D.createElement('div',{className:'video-react-remaining-time-display',"aria-live":'off'},D.createElement('span',{className:'video-react-control-text'},'Remaining Time '),'-',r))}function T(e){var a=e.player,t=a.currentTime,n=a.duration,o=e.className,r=u(t,n);return D.createElement('div',{className:q('video-react-current-time video-react-time-control video-react-control',o)},D.createElement('div',{className:'video-react-current-time-display',"aria-live":'off'},D.createElement('span',{className:'video-react-control-text'},'Current Time '),r))}function S(e){var a=e.player.duration,t=e.className,n=u(a);return D.createElement('div',{className:q(t,'video-react-duration video-react-time-control video-react-control')},D.createElement('div',{className:'video-react-duration-display',"aria-live":'off'},D.createElement('span',{className:'video-react-control-text'},'Duration Time '),n))}function N(e){var a=e.separator,t=e.className;return D.createElement('div',{className:q('video-react-time-control video-react-time-divider',t),dir:'ltr'},D.createElement('div',null,D.createElement('span',null,a||'/')))}function w(e){var a=e.inline,t=e.className,n=H({},e);return delete n.children,delete n.inline,delete n.className,D.createElement(ma,H({className:q(t,{"video-react-menu-button-inline":!!a,"video-react-menu-button-popup":!a},'video-react-control video-react-button video-react-menu-button')},n),D.createElement(ka,e))}function M(e){var a=e.percentage,t=e.vertical,n=e.className,o={};return t?o.height=a:o.width=a,D.createElement('div',{className:q(n,'video-react-volume-level'),style:o},D.createElement('span',{className:'video-react-control-text'}))}var D='default'in a?a['default']:a,_=function(){};_.thatReturns=o,_.thatReturnsFalse=o(!1),_.thatReturnsTrue=o(!0),_.thatReturnsNull=o(null),_.thatReturnsThis=function(){return this},_.thatReturnsArgument=function(e){return e};var F,R=function(){},A=function(t,n,o,a,r,l,d,e){if(R(n),!t){var i;if(void 0===n)i=new Error('Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.');else{var s=[o,a,r,l,d,e],c=0;i=new Error(n.replace(/%s/g,function(){return s[c++]})),i.name='Invariant Violation'}throw i.framesToPop=1,i}},x=Object.getOwnPropertySymbols,L=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,B=function(){try{if(!Object.assign)return!1;var e=new String('abc');if(e[5]='de','5'===Object.getOwnPropertyNames(e)[0])return!1;for(var a={},t=0;10>t;t++)a['_'+String.fromCharCode(t)]=t;var n=Object.getOwnPropertyNames(a).map(function(e){return a[e]});if('0123456789'!==n.join(''))return!1;var o={};return['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){o[e]=e}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},o)).join('')}catch(e){return!1}}()?Object.assign:function(e){for(var a,t,n=r(e),o=1;o<arguments.length;o++){for(var l in a=Object(arguments[o]),a)L.call(a,l)&&(n[l]=a[l]);if(x){t=x(a);for(var d=0;d<t.length;d++)I.call(a,t[d])&&(n[t[d]]=a[t[d]])}}return n},O='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},j=function(e,a){if(!(e instanceof a))throw new TypeError('Cannot call a class as a function')},U=function(){function e(e,a){for(var t,n=0;n<a.length;n++)t=a[n],t.enumerable=t.enumerable||!1,t.configurable=!0,'value'in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}return function(a,t,n){return t&&e(a.prototype,t),n&&e(a,n),a}}(),K=function(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e},H=Object.assign||function(e){for(var a,t=1;t<arguments.length;t++)for(var n in a=arguments[t],a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);return e},V=function(e,a){if('function'!=typeof a&&null!==a)throw new TypeError('Super expression must either be null or a function, not '+typeof a);e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a)},z=function(e,a){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return a&&('object'==typeof a||'function'==typeof a)?a:e},W=function(e){if(Array.isArray(e)){for(var a=0,t=Array(e.length);a<e.length;a++)t[a]=e[a];return t}return Array.from(e)},G=function(){function e(e,a,t,n,o,r){r==='SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED'||A(!1,'Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types')}function a(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a};return t.checkPropTypes=_,t.PropTypes=t,t},Y=n(function(e){e.exports=G()}),q=n(function(e){(function(){function a(){for(var e,n=[],o=0;o<arguments.length;o++)if(e=arguments[o],e){var r='undefined'==typeof e?'undefined':O(e);if('string'===r||'number'===r)n.push(e);else if(Array.isArray(e))n.push(a.apply(null,e));else if('object'===r)for(var l in e)t.call(e,l)&&e[l]&&n.push(l)}return n.join(' ')}var t={}.hasOwnProperty;e.exports?e.exports=a:window.classNames=a})()});F='undefined'==typeof self?'undefined'==typeof window?'undefined'==typeof global?'undefined'==typeof module?Function('return this')():module:global:window:self;var X=function(e){var a,t=e.Symbol;return'function'==typeof t?t.observable?a=t.observable:(a=t('observable'),t.observable=a):a='@@observable',a}(F),Z={INIT:'@@redux/INIT'+Math.random().toString(36).substring(7).split('').join('.'),REPLACE:'@@redux/REPLACE'+Math.random().toString(36).substring(7).split('').join('.')},J='function'==typeof Symbol&&'symbol'===O(Symbol.iterator)?function(e){return'undefined'==typeof e?'undefined':O(e)}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':'undefined'==typeof e?'undefined':O(e)};var $='video-react/LOAD_START',Q='video-react/CAN_PLAY',ee='video-react/WAITING',ae='video-react/CAN_PLAY_THROUGH',te='video-react/PLAYING',ne='video-react/PLAY',oe='video-react/PAUSE',re='video-react/END',le='video-react/SEEKING',de='video-react/SEEKED',ie='video-react/SEEKING_TIME',se='video-react/END_SEEKING',ce='video-react/DURATION_CHANGE',pe='video-react/TIME_UPDATE',ue='video-react/VOLUME_CHANGE',he='video-react/PROGRESS_CHANGE',ye='video-react/RATE_CHANGE',ve='video-react/SUSPEND',me='video-react/ABORT',ge='video-react/EMPTIED',ke='video-react/STALLED',be='video-react/LOADED_META_DATA',fe='video-react/LOADED_DATA',Ce='video-react/RESIZE',Pe='video-react/ERROR',Ee=Object.freeze({LOAD_START:$,CAN_PLAY:Q,WAITING:ee,CAN_PLAY_THROUGH:ae,PLAYING:te,PLAY:ne,PAUSE:oe,END:re,SEEKING:le,SEEKED:de,SEEKING_TIME:ie,END_SEEKING:se,DURATION_CHANGE:ce,TIME_UPDATE:pe,VOLUME_CHANGE:ue,PROGRESS_CHANGE:he,RATE_CHANGE:ye,SUSPEND:ve,ABORT:me,EMPTIED:ge,STALLED:ke,LOADED_META_DATA:be,LOADED_DATA:fe,RESIZE:Ce,ERROR:Pe,handleLoadStart:function(e){return{type:$,videoProps:e}},handleCanPlay:function(e){return{type:Q,videoProps:e}},handleWaiting:function(e){return{type:ee,videoProps:e}},handleCanPlayThrough:function(e){return{type:ae,videoProps:e}},handlePlaying:function(e){return{type:te,videoProps:e}},handlePlay:function(e){return{type:ne,videoProps:e}},handlePause:function(e){return{type:oe,videoProps:e}},handleEnd:function(e){return{type:re,videoProps:e}},handleSeeking:function(e){return{type:le,videoProps:e}},handleSeeked:function(e){return{type:de,videoProps:e}},handleDurationChange:function(e){return{type:ce,videoProps:e}},handleTimeUpdate:function(e){return{type:pe,videoProps:e}},handleVolumeChange:function(e){return{type:ue,videoProps:e}},handleProgressChange:function(e){return{type:he,videoProps:e}},handleRateChange:function(e){return{type:ye,videoProps:e}},handleSuspend:function(e){return{type:ve,videoProps:e}},handleAbort:function(e){return{type:me,videoProps:e}},handleEmptied:function(e){return{type:ge,videoProps:e}},handleStalled:function(e){return{type:ke,videoProps:e}},handleLoadedMetaData:function(e){return{type:be,videoProps:e}},handleLoadedData:function(e){return{type:fe,videoProps:e}},handleResize:function(e){return{type:Ce,videoProps:e}},handleError:function(e){return{type:Pe,videoProps:e}},handleSeekingTime:function(e){return{type:ie,time:e}},handleEndSeeking:function(e){return{type:se,time:e}}}),Te=function(){function e(){j(this,e)}return U(e,[{key:'request',value:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}},{key:'exit',value:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}},{key:'addEventListener',value:function(e){document.addEventListener('fullscreenchange',e),document.addEventListener('webkitfullscreenchange',e),document.addEventListener('mozfullscreenchange',e),document.addEventListener('MSFullscreenChange',e)}},{key:'removeEventListener',value:function(e){document.removeEventListener('fullscreenchange',e),document.removeEventListener('webkitfullscreenchange',e),document.removeEventListener('mozfullscreenchange',e),document.removeEventListener('MSFullscreenChange',e)}},{key:'isFullscreen',get:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}},{key:'enabled',get:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}}]),e}(),Se=new Te,Ne='video-react/OPERATE',we='video-react/FULLSCREEN_CHANGE',Me='video-react/PLAYER_ACTIVATE',De='video-react/USER_ACTIVATE',_e=Object.freeze({OPERATE:Ne,FULLSCREEN_CHANGE:we,PLAYER_ACTIVATE:Me,USER_ACTIVATE:De,handleFullscreenChange:function(e){return{type:we,isFullscreen:e}},activate:function(e){return{type:Me,activity:e}},userActivate:function(e){return{type:De,activity:e}},play:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{action:'play',source:''};return this.video.play(),{type:Ne,operation:e}},pause:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{action:'pause',source:''};return this.video.pause(),{type:Ne,operation:e}},togglePlay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{action:'toggle-play',source:''};return this.video.togglePlay(),{type:Ne,operation:e}},seek:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:'seek',source:''};return this.video.seek(e),{type:Ne,operation:a}},forward:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:'forward-'+e,source:''};return this.video.forward(e),{type:Ne,operation:a}},replay:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:'replay-'+e,source:''};return this.video.replay(e),{type:Ne,operation:a}},changeRate:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:'change-rate',source:''};return this.video.playbackRate=e,{type:Ne,operation:a}},changeVolume:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:'change-volume',source:''},t=e;return 0>e&&(t=0),1<e&&(t=1),this.video.volume=t,{type:Ne,operation:a}},mute:function(e){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{action:e?'muted':'unmuted',source:''};return this.video.muted=e,{type:Ne,operation:a}},toggleFullscreen:function(e){return Se.enabled?(Se.isFullscreen?Se.exit():Se.request(this.rootElement),{type:Ne,operation:{action:'toggle-fullscreen',source:''}}):{type:we,isFullscreen:!e.isFullscreen}}}),Fe={currentSrc:null,duration:0,currentTime:0,seekingTime:0,buffered:null,waiting:!1,seeking:!1,paused:!0,autoPaused:!1,ended:!1,playbackRate:1,muted:!1,volume:1,readyState:0,networkState:0,videoWidth:0,videoHeight:0,hasStarted:!1,userActivity:!0,isActive:!1,isFullscreen:!1},Re={count:0,operation:{action:'',source:''}},Ae=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},a=arguments[1];return{player:i(e.player,a),operation:s(e.operation,a)}},xe=function(){function e(a){j(this,e),this.store=a||d(Ae),this.video=null,this.rootElement=null}return U(e,[{key:'getActions',value:function(){function e(e){return function(){var n=e.apply(a,arguments);'undefined'!=typeof n&&t(n)}}var a=this,t=this.store.dispatch,n=H({},_e,Ee);return Object.keys(n).filter(function(e){return'function'==typeof n[e]}).reduce(function(a,t){return a[t]=e(n[t]),a},{})}},{key:'getState',value:function(){return this.store.getState()}},{key:'subscribeToStateChange',value:function(e,a){a||(a=this.getState.bind(this));var t=a();return this.store.subscribe(function(){var n=a();if(n!==t){var o=t;t=n,e(n,o)}})}},{key:'subscribeToOperationStateChange',value:function(e){var a=this;return this.subscribeToStateChange(e,function(){return a.getState().operation})}},{key:'subscribeToPlayerStateChange',value:function(e){var a=this;return this.subscribeToStateChange(e,function(){return a.getState().player})}}]),e}(),Le={actions:Y.object,player:Y.object,position:Y.string,className:Y.string},Ie=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'componentDidMount',value:function(){}},{key:'handleClick',value:function(){var e=this.props.actions;e.play()}},{key:'render',value:function(){var e=this.props,a=e.player,t=e.position;return D.createElement('button',{className:q('video-react-big-play-button','video-react-big-play-button-'+t,this.props.className,{"big-play-button-hide":a.hasStarted||!a.currentSrc}),type:'button',"aria-live":'polite',tabIndex:'0',onClick:this.handleClick},D.createElement('span',{className:'video-react-control-text'},'Play Video'))}}]),a}(a.Component);Ie.propTypes=Le,Ie.defaultProps={position:'left'},Ie.displayName='BigPlayButton';var Be={player:Y.object,className:Y.string};c.propTypes=Be,c.displayName='LoadingSpinner';var Oe={poster:Y.string,player:Y.object,actions:Y.object,className:Y.string};p.propTypes=Oe,p.displayName='PosterImage';var je=function(e,a){return e.filter(a)[0]},Ue=function(e,a){var t=e.type,n=a.type;return'string'==typeof t||'string'==typeof n?t==n:'function'==typeof t&&'function'==typeof n&&t.displayName===n.displayName},Ke=['error','src','srcObject','currentSrc','crossOrigin','networkState','preload','buffered','readyState','seeking','currentTime','duration','paused','defaultPlaybackRate','playbackRate','played','seekable','ended','autoplay','loop','mediaGroup','controller','controls','volume','muted','defaultMuted','audioTracks','videoTracks','textTracks','width','height','videoWidth','videoHeight','poster'],He={actions:Y.object,player:Y.object,children:Y.any,startTime:Y.number,loop:Y.bool,muted:Y.bool,autoPlay:Y.bool,playsInline:Y.bool,src:Y.string,poster:Y.string,className:Y.string,preload:Y.oneOf(['auto','metadata','none']),crossOrigin:Y.string,onLoadStart:Y.func,onWaiting:Y.func,onCanPlay:Y.func,onCanPlayThrough:Y.func,onPlaying:Y.func,onEnded:Y.func,onSeeking:Y.func,onSeeked:Y.func,onPlay:Y.func,onPause:Y.func,onProgress:Y.func,onDurationChange:Y.func,onError:Y.func,onSuspend:Y.func,onAbort:Y.func,onEmptied:Y.func,onStalled:Y.func,onLoadedMetadata:Y.func,onLoadedData:Y.func,onTimeUpdate:Y.func,onRateChange:Y.func,onVolumeChange:Y.func,onResize:Y.func},Ve=function(e){function a(e){j(this,a);var t=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.video=null,t.play=t.play.bind(t),t.pause=t.pause.bind(t),t.seek=t.seek.bind(t),t.forward=t.forward.bind(t),t.replay=t.replay.bind(t),t.toggleFullscreen=t.toggleFullscreen.bind(t),t.getProperties=t.getProperties.bind(t),t.renderChildren=t.renderChildren.bind(t),t.handleLoadStart=t.handleLoadStart.bind(t),t.handleCanPlay=t.handleCanPlay.bind(t),t.handleCanPlayThrough=t.handleCanPlayThrough.bind(t),t.handlePlay=t.handlePlay.bind(t),t.handlePlaying=t.handlePlaying.bind(t),t.handlePause=t.handlePause.bind(t),t.handleEnded=t.handleEnded.bind(t),t.handleWaiting=t.handleWaiting.bind(t),t.handleSeeking=t.handleSeeking.bind(t),t.handleSeeked=t.handleSeeked.bind(t),t.handleFullscreenChange=t.handleFullscreenChange.bind(t),t.handleError=t.handleError.bind(t),t.handleSuspend=t.handleSuspend.bind(t),t.handleAbort=t.handleAbort.bind(t),t.handleEmptied=t.handleEmptied.bind(t),t.handleStalled=t.handleStalled.bind(t),t.handleLoadedMetaData=t.handleLoadedMetaData.bind(t),t.handleLoadedData=t.handleLoadedData.bind(t),t.handleTimeUpdate=t.handleTimeUpdate.bind(t),t.handleRateChange=t.handleRateChange.bind(t),t.handleVolumeChange=t.handleVolumeChange.bind(t),t.handleDurationChange=t.handleDurationChange.bind(t),t.handleProgress=m(t.handleProgress.bind(t),250),t.handleKeypress=t.handleKeypress.bind(t),t}return V(a,e),U(a,[{key:'componentDidMount',value:function(){this.forceUpdate()}},{key:'getProperties',value:function(){var e=this;return this.video?Ke.reduce(function(a,t){return a[t]=e.video[t],a},{}):null}},{key:'play',value:function(){var e=this.video.play();void 0!==e&&e.catch(function(){}).then(function(){})}},{key:'pause',value:function(){var e=this.video.pause();void 0!==e&&e.catch(function(){}).then(function(){})}},{key:'load',value:function(){this.video.load()}},{key:'addTextTrack',value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:'canPlayType',value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:'togglePlay',value:function(){this.video.paused?this.play():this.pause()}},{key:'seek',value:function(e){try{this.video.currentTime=e}catch(a){}}},{key:'forward',value:function(e){this.seek(this.video.currentTime+e)}},{key:'replay',value:function(e){this.forward(-e)}},{key:'toggleFullscreen',value:function(){var e=this.props,a=e.player,t=e.actions;t.toggleFullscreen(a)}},{key:'handleLoadStart',value:function(){var e=this.props,a=e.actions,t=e.onLoadStart;a.handleLoadStart(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleCanPlay',value:function(){var e=this.props,a=e.actions,t=e.onCanPlay;a.handleCanPlay(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleCanPlayThrough',value:function(){var e=this.props,a=e.actions,t=e.onCanPlayThrough;a.handleCanPlayThrough(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handlePlaying',value:function(){var e=this.props,a=e.actions,t=e.onPlaying;a.handlePlaying(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handlePlay',value:function(){var e=this.props,a=e.actions,t=e.onPlay;a.handlePlay(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handlePause',value:function(){var e=this.props,a=e.actions,t=e.onPause;a.handlePause(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleDurationChange',value:function(){var e=this.props,a=e.actions,t=e.onDurationChange;a.handleDurationChange(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleProgress',value:function(){var e=this.props,a=e.actions,t=e.onProgress;this.video&&a.handleProgressChange(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleEnded',value:function(){var e=this.props,a=e.loop,t=e.player,n=e.actions,o=e.onEnded;a?(this.seek(0),this.play()):!t.paused&&this.pause(),n.handleEnd(this.getProperties()),o&&o.apply(void 0,arguments)}},{key:'handleWaiting',value:function(){var e=this.props,a=e.actions,t=e.onWaiting;a.handleWaiting(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleSeeking',value:function(){var e=this.props,a=e.actions,t=e.onSeeking;a.handleSeeking(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleSeeked',value:function(){var e=this.props,a=e.actions,t=e.onSeeked;a.handleSeeked(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleFullscreenChange',value:function(){}},{key:'handleSuspend',value:function(){var e=this.props,a=e.actions,t=e.onSuspend;a.handleSuspend(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleAbort',value:function(){var e=this.props,a=e.actions,t=e.onAbort;a.handleAbort(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleEmptied',value:function(){var e=this.props,a=e.actions,t=e.onEmptied;a.handleEmptied(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleStalled',value:function(){var e=this.props,a=e.actions,t=e.onStalled;a.handleStalled(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleLoadedMetaData',value:function(){var e=this.props,a=e.actions,t=e.onLoadedMetadata,n=e.startTime;n&&0<n&&(this.video.currentTime=n),a.handleLoadedMetaData(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleLoadedData',value:function(){var e=this.props,a=e.actions,t=e.onLoadedData;a.handleLoadedData(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleTimeUpdate',value:function(){var e=this.props,a=e.actions,t=e.onTimeUpdate;a.handleTimeUpdate(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleRateChange',value:function(){var e=this.props,a=e.actions,t=e.onRateChange;a.handleRateChange(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleVolumeChange',value:function(){var e=this.props,a=e.actions,t=e.onVolumeChange;a.handleVolumeChange(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleError',value:function(){var e=this.props,a=e.actions,t=e.onError;a.handleError(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleResize',value:function(){var e=this.props,a=e.actions,t=e.onResize;a.handleResize(this.getProperties()),t&&t.apply(void 0,arguments)}},{key:'handleKeypress',value:function(){}},{key:'renderChildren',value:function(){var e=this,a=H({},this.props,{video:this.video});return this.video?D.Children.toArray(this.props.children).filter(h).map(function(t){var n;if('string'!=typeof t.type)n=a;else if('source'===t.type){n=H({},t.props);var o=n.onError;n.onError=function(){o&&o.apply(void 0,arguments),e.handleError.apply(e,arguments)}}return D.cloneElement(t,n)}):null}},{key:'render',value:function(){var e=this,a=this.props,t=a.loop,n=a.poster,o=a.preload,r=a.src,l=a.autoPlay,d=a.playsInline,i=a.muted,s=a.crossOrigin,c=a.videoId;return D.createElement('video',{className:q('video-react-video',this.props.className),id:c,crossOrigin:s,ref:function(a){e.video=a},muted:i,preload:o,loop:t,playsInline:d,autoPlay:l,poster:n,src:r,onLoadStart:this.handleLoadStart,onWaiting:this.handleWaiting,onCanPlay:this.handleCanPlay,onCanPlayThrough:this.handleCanPlayThrough,onPlaying:this.handlePlaying,onEnded:this.handleEnded,onSeeking:this.handleSeeking,onSeeked:this.handleSeeked,onPlay:this.handlePlay,onPause:this.handlePause,onProgress:this.handleProgress,onDurationChange:this.handleDurationChange,onError:this.handleError,onSuspend:this.handleSuspend,onAbort:this.handleAbort,onEmptied:this.handleEmptied,onStalled:this.handleStalled,onLoadedMetadata:this.handleLoadedMetaData,onLoadedData:this.handleLoadedData,onTimeUpdate:this.handleTimeUpdate,onRateChange:this.handleRateChange,onVolumeChange:this.handleVolumeChange},this.renderChildren())}},{key:'playbackRate',get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:'muted',get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:'volume',get:function(){return this.video.volume},set:function(e){1<e&&(e=1),0>e&&(e=0),this.video.volume=e}},{key:'videoWidth',get:function(){return this.video.videoWidth}},{key:'videoHeight',get:function(){return this.video.videoHeight}}]),a}(a.Component);Ve.propTypes=He,Ve.defaultProps={preload:'auto'},Ve.displayName='Video';var ze={manager:Y.object,className:Y.string},We=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.timer=null,e.manager.subscribeToOperationStateChange(n.handleStateChange.bind(n)),n.state={hidden:!0,operation:{}},n}return V(a,e),U(a,[{key:'handleStateChange',value:function(e,a){var t=this;e.count!==a.count&&'shortcut'===e.operation.source&&(this.timer&&(clearTimeout(this.timer),this.timer=null),this.setState({hidden:!1,count:e.count,operation:e.operation}),this.timer=setTimeout(function(){t.setState({hidden:!0}),t.timer=null},500))}},{key:'render',value:function(){if('shortcut'!==this.state.operation.source)return null;var e=this.state.hidden?{display:'none'}:null;return D.createElement('div',{className:q({"video-react-bezel":!0,"video-react-bezel-animation":0==this.state.count%2,"video-react-bezel-animation-alt":1==this.state.count%2},this.props.className),style:e,role:'status',"aria-label":this.state.operation.action},D.createElement('div',{className:q('video-react-bezel-icon','video-react-bezel-icon-'+this.state.operation.action)}))}}]),a}(a.Component);We.propTypes=ze,We.displayName='Bezel';var Ge={clickable:Y.bool,dblclickable:Y.bool,manager:Y.object,actions:Y.object,player:Y.object,shortcuts:Y.array},Ye=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.defaultShortcuts=[{keyCode:32,handle:n.togglePlay},{keyCode:75,handle:n.togglePlay},{keyCode:70,handle:n.toggleFullscreen},{keyCode:37,handle:function(e,a){e.hasStarted&&a.replay(5,{action:'replay-5',source:'shortcut'})}},{keyCode:74,handle:function(e,a){e.hasStarted&&a.replay(10,{action:'replay-10',source:'shortcut'})}},{keyCode:39,handle:function(e,a){e.hasStarted&&a.forward(5,{action:'forward-5',source:'shortcut'})}},{keyCode:76,handle:function(e,a){e.hasStarted&&a.forward(10,{action:'forward-10',source:'shortcut'})}},{keyCode:36,handle:function(e,a){e.hasStarted&&a.seek(0)}},{keyCode:35,handle:function(e,a){e.hasStarted&&a.seek(e.duration)}},{keyCode:38,handle:function(e,a){var t=e.volume+0.05;1<t&&(t=1),a.changeVolume(t,{action:'volume-up',source:'shortcut'})}},{keyCode:40,handle:function(e,a){var t=e.volume-0.05;0>t&&(t=0);var n=0<t?'volume-down':'volume-off';a.changeVolume(t,{action:n,source:'shortcut'})}},{keyCode:190,shift:!0,handle:function(e,a){var t=e.playbackRate;1.5<=t?t=2:1.25<=t?t=1.5:1<=t?t=1.25:0.5<=t?t=1:0.25<=t?t=0.5:0<=t&&(t=0.25),a.changeRate(t,{action:'fast-forward',source:'shortcut'})}},{keyCode:188,shift:!0,handle:function(e,a){var t=e.playbackRate;0.5>=t?t=0.25:1>=t?t=0.5:1.25>=t?t=1:1.5>=t?t=1.25:2>=t&&(t=1.5),a.changeRate(t,{action:'fast-rewind',source:'shortcut'})}}],n.shortcuts=[].concat(W(n.defaultShortcuts)),n.mergeShortcuts=n.mergeShortcuts.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleClick=n.handleClick.bind(n),n.handleDoubleClick=n.handleDoubleClick.bind(n),n}return V(a,e),U(a,[{key:'componentDidMount',value:function(){this.mergeShortcuts(),document.addEventListener('keydown',this.handleKeyPress),document.addEventListener('click',this.handleClick),document.addEventListener('dblclick',this.handleDoubleClick)}},{key:'componentDidUpdate',value:function(e){e.shortcuts!==this.props.shortcuts&&this.mergeShortcuts()}},{key:'componentWillUnmount',value:function(){document.removeEventListener('keydown',this.handleKeyPress),document.removeEventListener('click',this.handleClick),document.removeEventListener('dblclick',this.handleDoubleClick)}},{key:'mergeShortcuts',value:function(){var e=function(e){var a=e.keyCode,t=void 0===a?0:a,n=e.ctrl,o=e.shift,r=e.alt;return t+':'+(void 0!==n&&n)+':'+(void 0!==o&&o)+':'+(void 0!==r&&r)},a=this.defaultShortcuts.reduce(function(a,t){return Object.assign(a,K({},e(t),t))},{}),t=(this.props.shortcuts||[]).reduce(function(a,t){var n=t.keyCode,o=t.handle;return n&&'function'==typeof o?Object.assign(a,K({},e(t),t)):a},a),n=function(e){var a=0;return['ctrl','shift','alt'].forEach(function(t){e[t]&&a++}),a};this.shortcuts=Object.keys(t).map(function(e){return t[e]}).sort(function(e,a){return n(a)-n(e)})}},{key:'togglePlay',value:function(e,a){e.paused?a.play({action:'play',source:'shortcut'}):a.pause({action:'pause',source:'shortcut'})}},{key:'toggleFullscreen',value:function(e,a){a.toggleFullscreen(e)}},{key:'handleKeyPress',value:function(a){var e=this.props,t=e.player,n=e.actions;if(t.isActive&&!(document.activeElement&&(b(document.activeElement,'video-react-control')||b(document.activeElement,'video-react-menu-button-active')||b(document.activeElement,'video-react-big-play-button')))){var o=a.keyCode||a.which,r=a.ctrlKey||a.metaKey,l=a.shiftKey,d=a.altKey,i=this.shortcuts.filter(function(e){return e.keyCode&&0==e.keyCode-o&&(void 0!==e.ctrl&&e.ctrl!==r||void 0!==e.shift&&e.shift!==l||void 0!==e.alt&&e.alt!==d?!1:!0)})[0];i&&(i.handle(t,n),a.preventDefault())}}},{key:'canBeClicked',value:function(a,t){return a.isActive&&'VIDEO'===t.target.nodeName&&4===a.readyState}},{key:'handleClick',value:function(a){var e=this.props,t=e.player,n=e.actions,o=e.clickable;this.canBeClicked(t,a)&&o&&this.togglePlay(t,n)}},{key:'handleDoubleClick',value:function(a){var e=this.props,t=e.player,n=e.actions,o=e.dblclickable;this.canBeClicked(t,a)&&o&&this.toggleFullscreen(t,n)}},{key:'render',value:function(){return null}}]),a}(a.Component);Ye.propTypes=Ge,Ye.defaultProps={clickable:!0,dblclickable:!0},Ye.displayName='Shortcut';var qe={className:Y.string,onMouseDown:Y.func,onMouseMove:Y.func,stepForward:Y.func,stepBack:Y.func,sliderActive:Y.func,sliderInactive:Y.func,onMouseUp:Y.func,onFocus:Y.func,onBlur:Y.func,onClick:Y.func,getPercent:Y.func,vertical:Y.bool,children:Y.node,label:Y.string,valuenow:Y.string,valuetext:Y.string},Xe=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleClick=n.handleClick.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.stepForward=n.stepForward.bind(n),n.stepBack=n.stepBack.bind(n),n.calculateDistance=n.calculateDistance.bind(n),n.getProgress=n.getProgress.bind(n),n.renderChildren=n.renderChildren.bind(n),n.state={active:!1},n}return V(a,e),U(a,[{key:'getProgress',value:function(){var e=this.props.getPercent;if(!e)return 0;var a=e();return('number'!=typeof a||0>a||a===Infinity)&&(a=0),a}},{key:'handleMouseDown',value:function(e){var a=this.props.onMouseDown;document.addEventListener('mousemove',this.handleMouseMove,!0),document.addEventListener('mouseup',this.handleMouseUp,!0),document.addEventListener('touchmove',this.handleMouseMove,!0),document.addEventListener('touchend',this.handleMouseUp,!0),this.setState({active:!0,distance:0}),this.props.sliderActive&&this.props.sliderActive(e),this.handleMouseMove(e),a&&a(e)}},{key:'handleMouseMove',value:function(e){var a=this.props.onMouseMove;a&&a(e)}},{key:'handleMouseUp',value:function(e){var a=this.props.onMouseUp;document.removeEventListener('mousemove',this.handleMouseMove,!0),document.removeEventListener('mouseup',this.handleMouseUp,!0),document.removeEventListener('touchmove',this.handleMouseMove,!0),document.removeEventListener('touchend',this.handleMouseUp,!0),this.setState({active:!1}),this.props.sliderInactive&&this.props.sliderInactive(e),a&&a(e)}},{key:'handleFocus',value:function(a){document.addEventListener('keydown',this.handleKeyPress,!0),this.props.onFocus&&this.props.onFocus(a)}},{key:'handleBlur',value:function(a){document.removeEventListener('keydown',this.handleKeyPress,!0),this.props.onBlur&&this.props.onBlur(a)}},{key:'handleClick',value:function(e){e.preventDefault(),this.props.onClick&&this.props.onClick(e)}},{key:'handleKeyPress',value:function(e){37===e.which||40===e.which?(e.preventDefault(),e.stopPropagation(),this.stepBack()):(38===e.which||39===e.which)&&(e.preventDefault(),e.stopPropagation(),this.stepForward())}},{key:'stepForward',value:function(){this.props.stepForward&&this.props.stepForward()}},{key:'stepBack',value:function(){this.props.stepBack&&this.props.stepBack()}},{key:'calculateDistance',value:function(e){var a=t.findDOMNode(this),n=k(a,e);return this.props.vertical?n.y:n.x}},{key:'renderChildren',value:function(){var e=this.getProgress(),a=(100*e).toFixed(2)+'%';return D.Children.map(this.props.children,function(t){return D.cloneElement(t,{progress:e,percentage:a})})}},{key:'render',value:function(){var e=this.props,a=e.vertical,t=e.label,n=e.valuenow,o=e.valuetext;return D.createElement('div',{className:q(this.props.className,{"video-react-slider-vertical":a,"video-react-slider-horizontal":!a,"video-react-sliding":this.state.active},'video-react-slider'),tabIndex:'0',onMouseDown:this.handleMouseDown,onTouchStart:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,"aria-label":t||'',"aria-valuenow":n||'',"aria-valuetext":o||'',"aria-valuemin":0,"aria-valuemax":100},this.renderChildren())}}]),a}(a.Component);Xe.propTypes=qe,Xe.displayName='Slider';var Ze={currentTime:Y.number,duration:Y.number,percentage:Y.string,className:Y.string};f.propTypes=Ze,f.displayName='PlayProgressBar';var Je={duration:Y.number,buffered:Y.object,className:Y.string};C.propTypes=Je,C.displayName='LoadProgressBar',P.propTypes={duration:Y.number,mouseTime:Y.object,className:Y.string},P.displayName='MouseTimeDisplay';var $e={player:Y.object,mouseTime:Y.object,actions:Y.object,className:Y.string},Qe=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.getPercent=n.getPercent.bind(n),n.getNewTime=n.getNewTime.bind(n),n.stepForward=n.stepForward.bind(n),n.stepBack=n.stepBack.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n}return V(a,e),U(a,[{key:'componentDidMount',value:function(){}},{key:'componentDidUpdate',value:function(){}},{key:'getPercent',value:function(){var e=this.props.player,a=e.currentTime,t=e.seekingTime,n=e.duration,o=(t||a)/n;return 1<=o?1:o}},{key:'getNewTime',value:function(e){var a=this.props.player.duration,t=this.slider.calculateDistance(e),n=t*a;return n===a?n-0.1:n}},{key:'handleMouseDown',value:function(){}},{key:'handleMouseUp',value:function(e){var a=this.props.actions,t=this.getNewTime(e);a.seek(t),a.handleEndSeeking(t)}},{key:'handleMouseMove',value:function(e){var a=this.props.actions,t=this.getNewTime(e);a.handleSeekingTime(t)}},{key:'stepForward',value:function(){var e=this.props.actions;e.forward(5)}},{key:'stepBack',value:function(){var e=this.props.actions;e.replay(5)}},{key:'render',value:function(){var e=this,a=this.props,t=a.player,n=t.currentTime,o=t.seekingTime,r=t.duration,l=t.buffered,d=a.mouseTime,i=o||n;return D.createElement(Xe,{ref:function(a){e.slider=a},label:'video progress bar',className:q('video-react-progress-holder',this.props.className),valuenow:(100*this.getPercent()).toFixed(2),valuetext:u(i,r),onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,getPercent:this.getPercent,stepForward:this.stepForward,stepBack:this.stepBack},D.createElement(C,{buffered:l,currentTime:i,duration:r}),D.createElement(P,{duration:r,mouseTime:d}),D.createElement(f,{currentTime:i,duration:r}))}}]),a}(a.Component);Qe.propTypes=$e,Qe.displayName='SeekBar';var ea={player:Y.object,className:Y.string},aa=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.state={mouseTime:{time:null,position:0}},n.handleMouseMoveThrottle=n.handleMouseMove.bind(n),n}return V(a,e),U(a,[{key:'handleMouseMove',value:function(e){if(e.pageX){var a=this.props.player.duration,n=t.findDOMNode(this.seekBar),o=k(n,e).x*a,r=e.pageX-g(n).left;this.setState({mouseTime:{time:o,position:r}})}}},{key:'render',value:function(){var e=this,a=this.props.className;return D.createElement('div',{onMouseMove:this.handleMouseMoveThrottle,className:q('video-react-progress-control video-react-control',a)},D.createElement(Qe,H({mouseTime:this.state.mouseTime,ref:function(a){e.seekBar=a}},this.props)))}}]),a}(a.Component);aa.propTypes=ea,aa.displayName='ProgressControl';var ta={actions:Y.object,player:Y.object,className:Y.string},na=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(){var e=this.props,a=e.actions,t=e.player;t.paused?a.play():a.pause()}},{key:'render',value:function(){var e=this,a=this.props,t=a.player,n=a.className,o=t.paused?'Play':'Pause';return D.createElement('button',{ref:function(a){e.button=a},className:q(n,{"video-react-play-control":!0,"video-react-control":!0,"video-react-button":!0,"video-react-paused":t.paused,"video-react-playing":!t.paused}),type:'button',tabIndex:'0',onClick:this.handleClick},D.createElement('span',{className:'video-react-control-text'},o))}}]),a}(a.Component);na.propTypes=ta,na.displayName='PlayToggle';var oa={actions:Y.object,className:Y.string,seconds:Y.oneOf([5,10,30])},ra={seconds:10},la=function(e){var t=function(a){function t(e,a){j(this,t);var n=z(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,a));return n.handleClick=n.handleClick.bind(n),n}return V(t,a),U(t,[{key:'handleClick',value:function(){var a=this.props,t=a.actions,n=a.seconds;'forward'===e?t.forward(n):t.replay(n)}},{key:'render',value:function(){var a=this,t=this.props,n=t.seconds,o=t.className,r=['video-react-control','video-react-button','video-react-icon'];return r.push('video-react-icon-'+e+'-'+n,'video-react-'+e+'-control'),this.props.className&&r.push(this.props.className),D.createElement('button',{ref:function(e){a.button=e},className:r.join(' '),type:'button',onClick:this.handleClick},D.createElement('span',{className:'video-react-control-text'},e+' '+n+' seconds'))}}]),t}(a.Component);return t.propTypes=oa,t.defaultProps=ra,t},da=la('forward');da.displayName='ForwardControl';var ia=la('replay');ia.displayName='ReplayControl';var sa={actions:Y.object,player:Y.object,className:Y.string},ca=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(){var e=this.props,a=e.player,t=e.actions;t.toggleFullscreen(a)}},{key:'render',value:function(){var e=this,a=this.props,t=a.player,n=a.className;return D.createElement('button',{className:q(n,{"video-react-icon-fullscreen-exit":t.isFullscreen,"video-react-icon-fullscreen":!t.isFullscreen},'video-react-fullscreen-control video-react-control video-react-button video-react-icon'),ref:function(a){e.button=a},type:'button',tabIndex:'0',onClick:this.handleClick},D.createElement('span',{className:'video-react-control-text'},'Non-Fullscreen'))}}]),a}(a.Component);ca.propTypes=sa,ca.displayName='FullscreenToggle';var pa={player:Y.object,className:Y.string};E.propTypes=pa,E.displayName='RemainingTimeDisplay';var ua={player:Y.object,className:Y.string};T.propTypes=ua,T.displayName='CurrentTimeDisplay';var ha={player:Y.object,className:Y.string};S.propTypes=ha,S.displayName='DurationDisplay';var ya={separator:Y.string,className:Y.string};N.propTypes=ya,N.displayName='TimeDivider';var va={tagName:Y.string.isRequired,onClick:Y.func.isRequired,onFocus:Y.func,onBlur:Y.func,className:Y.string},ma=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleKeypress=n.handleKeypress.bind(n),n}return V(a,e),U(a,[{key:'handleKeypress',value:function(e){(32===e.which||13===e.which)&&(e.preventDefault(),this.handleClick(e))}},{key:'handleClick',value:function(e){var a=this.props.onClick;a(e)}},{key:'handleFocus',value:function(a){document.addEventListener('keydown',this.handleKeypress),this.props.onFocus&&this.props.onFocus(a)}},{key:'handleBlur',value:function(a){document.removeEventListener('keydown',this.handleKeypress),this.props.onBlur&&this.props.onBlur(a)}},{key:'render',value:function(){var e=this.props.tagName,a=H({},this.props);return delete a.tagName,delete a.className,D.createElement(e,H({className:q(this.props.className),role:'button',tabIndex:'0',onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},a))}}]),a}(a.Component);ma.propTypes=va,ma.defaultProps={tagName:'div'},ma.displayName='ClickableComponent';var ga={player:Y.object,children:Y.any},ka=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(e){e.preventDefault()}},{key:'render',value:function(){var e=this.props.children;return D.createElement('div',{className:'video-react-menu',onClick:this.handleClick},D.createElement('div',{className:'video-react-menu-content'},e))}}]),a}(a.Component);ka.propTypes=ga,ka.displayName='Popup';var ba={inline:Y.bool,onClick:Y.func.isRequired,onFocus:Y.func,onBlur:Y.func,className:Y.string};w.propTypes=ba,w.defaultProps={inline:!0},w.displayName='PopupButton';var fa={percentage:Y.string,vertical:Y.bool,className:Y.string};M.propTypes=fa,M.defaultProps={percentage:'100%',vertical:!1},M.displayName='VolumeLevel';var Ca={actions:Y.object,player:Y.object,className:Y.string,onFocus:Y.func,onBlur:Y.func},Pa=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.state={percentage:'0%'},n.handleMouseMove=n.handleMouseMove.bind(n),n.handlePercentageChange=n.handlePercentageChange.bind(n),n.checkMuted=n.checkMuted.bind(n),n.getPercent=n.getPercent.bind(n),n.stepForward=n.stepForward.bind(n),n.stepBack=n.stepBack.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'componentDidMount',value:function(){}},{key:'getPercent',value:function(){var e=this.props.player;return e.muted?0:e.volume}},{key:'checkMuted',value:function(){var e=this.props,a=e.player,t=e.actions;a.muted&&t.mute(!1)}},{key:'handleMouseMove',value:function(e){var a=this.props.actions;this.checkMuted();var t=this.slider.calculateDistance(e);a.changeVolume(t)}},{key:'stepForward',value:function(){var e=this.props,a=e.player,t=e.actions;this.checkMuted(),t.changeVolume(a.volume+0.1)}},{key:'stepBack',value:function(){var e=this.props,a=e.player,t=e.actions;this.checkMuted(),t.changeVolume(a.volume-0.1)}},{key:'handleFocus',value:function(a){this.props.onFocus&&this.props.onFocus(a)}},{key:'handleBlur',value:function(a){this.props.onBlur&&this.props.onBlur(a)}},{key:'handlePercentageChange',value:function(e){e!==this.state.percentage&&this.setState({percentage:e})}},{key:'handleClick',value:function(e){e.stopPropagation()}},{key:'render',value:function(){var e=this,a=this.props,t=a.player,n=a.className,o=(100*t.volume).toFixed(2);return D.createElement(Xe,H({ref:function(a){e.slider=a},label:'volume level',valuenow:o,valuetext:o+'%',onMouseMove:this.handleMouseMove,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,sliderActive:this.handleFocus,sliderInactive:this.handleBlur,getPercent:this.getPercent,onPercentageChange:this.handlePercentageChange,stepForward:this.stepForward,stepBack:this.stepBack},this.props,{className:q(n,'video-react-volume-bar video-react-slider-bar')}),D.createElement(M,this.props))}}]),a}(a.Component);Pa.propTypes=Ca,Pa.displayName='VolumeBar';var Ea={player:Y.object,actions:Y.object,vertical:Y.bool,className:Y.string,alwaysShowVolume:Y.bool},Ta=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.state={active:!1},n.handleClick=n.handleClick.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(){var e=this.props,a=e.player,t=e.actions;t.mute(!a.muted)}},{key:'handleFocus',value:function(){this.setState({active:!0})}},{key:'handleBlur',value:function(){this.setState({active:!1})}},{key:'render',value:function(){var e=this.props,a=e.vertical,t=e.player,n=e.className,o=this.volumeLevel;return D.createElement(w,{className:q(n,{"video-react-volume-menu-button-vertical":a,"video-react-volume-menu-button-horizontal":!a,"video-react-vol-muted":t.muted,"video-react-vol-0":0===o&&!t.muted,"video-react-vol-1":1===o,"video-react-vol-2":2===o,"video-react-vol-3":3===o,"video-react-slider-active":this.props.alwaysShowVolume||this.state.active,"video-react-lock-showing":this.props.alwaysShowVolume||this.state.active},'video-react-volume-menu-button'),onClick:this.handleClick,inline:!a},D.createElement(Pa,H({onFocus:this.handleFocus,onBlur:this.handleBlur},this.props)))}},{key:'volumeLevel',get:function(){var e=this.props.player,a=e.volume,t=e.muted,n=3;return 0===a||t?n=0:0.33>a?n=1:0.67>a&&(n=2),n}}]),a}(a.Component);Ta.propTypes=Ea,Ta.defaultProps={vertical:!1},Ta.displayName='VolumeMenuButton';var Sa={children:Y.any},Na=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(e){e.preventDefault()}},{key:'render',value:function(){return D.createElement('div',{className:'video-react-menu video-react-lock-showing',role:'presentation',onClick:this.handleClick},D.createElement('ul',{className:'video-react-menu-content'},this.props.children))}}]),a}(a.Component);Na.propTypes=Sa,Na.displayName='Menu';var wa={item:Y.object,index:Y.number,activateIndex:Y.number,onSelectItem:Y.func},Ma=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleClick=n.handleClick.bind(n),n}return V(a,e),U(a,[{key:'handleClick',value:function(){var e=this.props,a=e.index,t=e.onSelectItem;t(a)}},{key:'render',value:function(){var e=this.props,a=e.item,t=e.index,n=e.activateIndex;return D.createElement('li',{className:q({"video-react-menu-item":!0,"video-react-selected":t===n}),onClick:this.handleClick},a.label,D.createElement('span',{className:'video-react-control-text'}))}}]),a}(a.Component);Ma.propTypes=wa,Ma.displayName='MenuItem';var Da={inline:Y.bool,items:Y.array,className:Y.string,onSelectItem:Y.func,children:Y.any,selectedIndex:Y.number},_a=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.state={active:!1,activateIndex:e.selectedIndex||0},n.commitSelection=n.commitSelection.bind(n),n.activateMenuItem=n.activateMenuItem.bind(n),n.handleClick=n.handleClick.bind(n),n.renderMenu=n.renderMenu.bind(n),n.handleFocus=n.handleFocus.bind(n),n.handleBlur=n.handleBlur.bind(n),n.handleUpArrow=n.handleUpArrow.bind(n),n.handleDownArrow=n.handleDownArrow.bind(n),n.handleEscape=n.handleEscape.bind(n),n.handleReturn=n.handleReturn.bind(n),n.handleTab=n.handleTab.bind(n),n.handleKeyPress=n.handleKeyPress.bind(n),n.handleSelectItem=n.handleSelectItem.bind(n),n.handleIndexChange=n.handleIndexChange.bind(n),n}return V(a,e),U(a,[{key:'componentDidUpdate',value:function(e){e.selectedIndex!==this.props.selectedIndex&&this.activateMenuItem(this.props.selectedIndex)}},{key:'commitSelection',value:function(e){this.setState({activateIndex:e,active:!1}),this.handleIndexChange(e)}},{key:'activateMenuItem',value:function(e){this.setState({activateIndex:e}),this.handleIndexChange(e)}},{key:'handleIndexChange',value:function(e){var a=this.props.onSelectItem;a(e)}},{key:'handleClick',value:function(){this.setState({active:!this.state.active})}},{key:'handleFocus',value:function(){document.addEventListener('keydown',this.handleKeyPress)}},{key:'handleBlur',value:function(){this.setState({active:!1}),document.removeEventListener('keydown',this.handleKeyPress)}},{key:'handleUpArrow',value:function(a){var e=this.props.items;if(this.state.active){a.preventDefault();var t=this.state.activateIndex-1;0>t&&(t=e.length?e.length-1:0),this.activateMenuItem(t)}}},{key:'handleDownArrow',value:function(a){var e=this.props.items;if(this.state.active){a.preventDefault();var t=this.state.activateIndex+1;t>=e.length&&(t=0),this.activateMenuItem(t)}}},{key:'handleTab',value:function(a){this.state.active&&(a.preventDefault(),this.commitSelection(this.state.activateIndex))}},{key:'handleReturn',value:function(a){a.preventDefault(),this.state.active?this.commitSelection(this.state.activateIndex):this.setState({active:!0})}},{key:'handleEscape',value:function(){this.setState({active:!1,activateIndex:0})}},{key:'handleKeyPress',value:function(e){27===e.which?this.handleEscape(e):9===e.which?this.handleTab(e):13===e.which?this.handleReturn(e):38===e.which?this.handleUpArrow(e):40===e.which&&this.handleDownArrow(e)}},{key:'handleSelectItem',value:function(e){this.commitSelection(e)}},{key:'renderMenu',value:function(){var e=this;if(!this.state.active)return null;var a=this.props.items;return D.createElement(Na,null,a.map(function(a,t){return D.createElement(Ma,{item:a,index:t,onSelectItem:e.handleSelectItem,activateIndex:e.state.activateIndex,key:'item-'+t++})}))}},{key:'render',value:function(){var e=this,a=this.props,t=a.inline,n=a.className;return D.createElement(ma,{className:q(n,{"video-react-menu-button-inline":!!t,"video-react-menu-button-popup":!t,"video-react-menu-button-active":this.state.active},'video-react-control video-react-button video-react-menu-button'),role:'presentation',tabIndex:'0',ref:function(a){e.menuButton=a},onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur},this.props.children,this.renderMenu())}}]),a}(a.Component);_a.propTypes=Da,_a.displayName='MenuButton';var Fa={player:Y.object,actions:Y.object,rates:Y.array,className:Y.string},Ra=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return n.handleSelectItem=n.handleSelectItem.bind(n),n}return V(a,e),U(a,[{key:'handleSelectItem',value:function(e){var a=this.props,t=a.rates,n=a.actions;0<=e&&e<t.length&&n.changeRate(t[e])}},{key:'render',value:function(){var e=this.props,a=e.rates,t=e.player,n=a.map(function(e){return{label:e+'x',value:e}}),o=a.indexOf(t.playbackRate)||0;return D.createElement(_a,{className:q('video-react-playback-rate',this.props.className),onSelectItem:this.handleSelectItem,items:n,selectedIndex:o},D.createElement('span',{className:'video-react-control-text'},'Playback Rate'),D.createElement('div',{className:'video-react-playback-rate-value'},t.playbackRate.toFixed(2),'x'))}}]),a}(a.Component);Ra.propTypes=Fa,Ra.defaultProps={rates:[2,1.5,1.25,1,0.5,0.25]},Ra.displayName='PlaybackRateMenuButton';var Aa={children:Y.any,autoHide:Y.bool,disableDefaultControls:Y.bool,disableCompletely:Y.bool,className:Y.string},xa=function(e){function a(e){j(this,a);var t=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.getDefaultChildren=t.getDefaultChildren.bind(t),t.getFullChildren=t.getFullChildren.bind(t),t}return V(a,e),U(a,[{key:'getDefaultChildren',value:function(){return[D.createElement(na,H({},this.props,{key:'play-toggle',order:1})),D.createElement(Ta,H({},this.props,{key:'volume-menu-button',order:4})),D.createElement(T,H({},this.props,{key:'current-time-display',order:5.1})),D.createElement(N,H({},this.props,{key:'time-divider',order:5.2})),D.createElement(S,H({},this.props,{key:'duration-display',order:5.3})),D.createElement(aa,H({},this.props,{key:'progress-control',order:6})),D.createElement(ca,H({},this.props,{key:'fullscreen-toggle',order:8}))]}},{key:'getFullChildren',value:function(){return[D.createElement(na,H({},this.props,{key:'play-toggle',order:1})),D.createElement(ia,H({},this.props,{key:'replay-control',order:2})),D.createElement(da,H({},this.props,{key:'forward-control',order:3})),D.createElement(Ta,H({},this.props,{key:'volume-menu-button',order:4})),D.createElement(T,H({},this.props,{key:'current-time-display',order:5})),D.createElement(N,H({},this.props,{key:'time-divider',order:6})),D.createElement(S,H({},this.props,{key:'duration-display',order:7})),D.createElement(aa,H({},this.props,{key:'progress-control',order:8})),D.createElement(E,H({},this.props,{key:'remaining-time-display',order:9})),D.createElement(Ra,H({},this.props,{rates:[1,1.25,1.5,2],key:'playback-rate',order:10})),D.createElement(ca,H({},this.props,{key:'fullscreen-toggle',order:11}))]}},{key:'getChildren',value:function(){var e=D.Children.toArray(this.props.children),a=this.props.disableDefaultControls?[]:this.getDefaultChildren();return y(a,e,this.props)}},{key:'render',value:function(){var e=this.props,a=e.autoHide,t=e.className,n=e.disableCompletely,o=this.getChildren();return n?null:D.createElement('div',{className:q('video-react-control-bar',{"video-react-control-bar-auto-hide":a},t)},o)}}]),a}(a.Component);xa.propTypes=Aa,xa.defaultProps={autoHide:!0,disableCompletely:!1},xa.displayName='ControlBar';var La='undefined'!=typeof window&&window.navigator?window.navigator.userAgent:'',Ia=/iPad/i.test(La),Ba=/iPhone/i.test(La)&&!Ia,Oa=/iPod/i.test(La),ja={children:Y.any,width:Y.oneOfType([Y.string,Y.number]),height:Y.oneOfType([Y.string,Y.number]),fluid:Y.bool,muted:Y.bool,playsInline:Y.bool,aspectRatio:Y.string,className:Y.string,videoId:Y.string,startTime:Y.number,loop:Y.bool,autoPlay:Y.bool,src:Y.string,poster:Y.string,preload:Y.oneOf(['auto','metadata','none']),onLoadStart:Y.func,onWaiting:Y.func,onCanPlay:Y.func,onCanPlayThrough:Y.func,onPlaying:Y.func,onEnded:Y.func,onSeeking:Y.func,onSeeked:Y.func,onPlay:Y.func,onPause:Y.func,onProgress:Y.func,onDurationChange:Y.func,onError:Y.func,onSuspend:Y.func,onAbort:Y.func,onEmptied:Y.func,onStalled:Y.func,onLoadedMetadata:Y.func,onLoadedData:Y.func,onTimeUpdate:Y.func,onRateChange:Y.func,onVolumeChange:Y.func,store:Y.object},Ua=function(e){function a(e){j(this,a);var t=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.controlsHideTimer=null,t.video=null,t.manager=new xe(e.store),t.actions=t.manager.getActions(),t.manager.subscribeToPlayerStateChange(t.handleStateChange.bind(t)),t.getStyle=t.getStyle.bind(t),t.handleResize=t.handleResize.bind(t),t.getChildren=t.getChildren.bind(t),t.handleMouseMove=m(t.handleMouseMove.bind(t),250),t.handleMouseDown=t.handleMouseDown.bind(t),t.startControlsTimer=t.startControlsTimer.bind(t),t.handleFullScreenChange=t.handleFullScreenChange.bind(t),t.handleKeyDown=t.handleKeyDown.bind(t),t.handleFocus=t.handleFocus.bind(t),t.handleBlur=t.handleBlur.bind(t),t}return V(a,e),U(a,[{key:'componentDidMount',value:function(){this.handleResize(),window.addEventListener('resize',this.handleResize),Se.addEventListener(this.handleFullScreenChange)}},{key:'componentWillUnmount',value:function(){window.removeEventListener('resize',this.handleResize),Se.removeEventListener(this.handleFullScreenChange),this.controlsHideTimer&&window.clearTimeout(this.controlsHideTimer)}},{key:'getDefaultChildren',value:function(e,a){var t=this;return[D.createElement(Ve,H({ref:function(e){t.video=e,t.manager.video=t.video},key:'video',order:0},a)),D.createElement(p,H({key:'poster-image',order:1},e)),D.createElement(c,H({key:'loading-spinner',order:2},e)),D.createElement(We,H({key:'bezel',order:3},e)),D.createElement(Ie,H({key:'big-play-button',order:4},e)),D.createElement(xa,H({key:'control-bar',order:5},e)),D.createElement(Ye,H({key:'shortcut',order:99},e))]}},{key:'getChildren',value:function(e){var a=H({},e,{children:null}),t=D.Children.toArray(this.props.children).filter(function(a){return!h(a)}),n=this.getDefaultChildren(a,e);return y(n,t,a)}},{key:'setWidthOrHeight',value:function(e,a,t){var n;'string'==typeof t?'auto'===t?n='auto':t.match(/\d+%/)&&(n=t):'number'==typeof t&&(n=t+'px'),Object.assign(e,K({},a,n))}},{key:'getStyle',value:function(){var e,a,t,n=this.props.fluid,o=this.manager.getState(),r=o.player,l={};t=void 0!==this.props.aspectRatio&&'auto'!==this.props.aspectRatio?this.props.aspectRatio:r.videoWidth?r.videoWidth+':'+r.videoHeight:'16:9';var d=t.split(':'),i=d[1]/d[0];return e=void 0===this.props.width?void 0===this.props.height?r.videoWidth||400:this.props.height/i:this.props.width,a=void 0===this.props.height?e*i:this.props.height,n?l.paddingTop=100*i+'%':(this.setWidthOrHeight(l,'width',e),this.setWidthOrHeight(l,'height',a)),l}},{key:'getState',value:function(){return this.manager.getState()}},{key:'play',value:function(){this.video.play()}},{key:'pause',value:function(){this.video.pause()}},{key:'load',value:function(){this.video.load()}},{key:'addTextTrack',value:function(){var e;(e=this.video).addTextTrack.apply(e,arguments)}},{key:'canPlayType',value:function(){var e;(e=this.video).canPlayType.apply(e,arguments)}},{key:'seek',value:function(e){this.video.seek(e)}},{key:'forward',value:function(e){this.video.forward(e)}},{key:'replay',value:function(e){this.video.replay(e)}},{key:'toggleFullscreen',value:function(){this.video.toggleFullscreen()}},{key:'subscribeToStateChange',value:function(e){return this.manager.subscribeToPlayerStateChange(e)}},{key:'handleResize',value:function(){}},{key:'handleFullScreenChange',value:function(){this.actions.handleFullscreenChange(Se.isFullscreen)}},{key:'handleMouseDown',value:function(){this.startControlsTimer()}},{key:'handleMouseMove',value:function(){this.startControlsTimer()}},{key:'handleKeyDown',value:function(){this.startControlsTimer()}},{key:'startControlsTimer',value:function(){var e=this;this.actions.userActivate(!0),clearTimeout(this.controlsHideTimer),this.controlsHideTimer=setTimeout(function(){e.actions.userActivate(!1)},3e3)}},{key:'handleStateChange',value:function(e,a){e.isFullscreen!==a.isFullscreen&&this.handleResize(),this.forceUpdate()}},{key:'handleFocus',value:function(){this.actions.activate(!0)}},{key:'handleBlur',value:function(){this.actions.activate(!1)}},{key:'render',value:function(){var e=this,a=this.props.fluid,t=this.manager.getState(),n=t.player,o=n.paused,r=n.hasStarted,l=n.waiting,d=n.seeking,i=n.isFullscreen,s=n.userActivity,c=H({},this.props,{player:n,actions:this.actions,manager:this.manager,store:this.manager.store,video:this.video?this.video.video:null}),p=this.getChildren(c);return D.createElement('div',{className:q({"video-react-controls-enabled":!0,"video-react-has-started":r,"video-react-paused":o,"video-react-playing":!o,"video-react-waiting":l,"video-react-seeking":d,"video-react-fluid":a,"video-react-fullscreen":i,"video-react-user-inactive":!s,"video-react-user-active":s,"video-react-workinghover":!(Ba||Ia||Oa)},'video-react',this.props.className),style:this.getStyle(),ref:function(a){e.manager.rootElement=a},role:'region',onTouchStart:this.handleMouseDown,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus,onBlur:this.handleBlur,tabIndex:'-1'},p)}},{key:'playbackRate',get:function(){return this.video.playbackRate},set:function(e){this.video.playbackRate=e}},{key:'muted',get:function(){return this.video.muted},set:function(e){this.video.muted=e}},{key:'volume',get:function(){return this.video.volume},set:function(e){this.video.volume=e}},{key:'videoWidth',get:function(){return this.video.videoWidth}},{key:'videoHeight',get:function(){return this.video.videoHeight}}]),a}(a.Component);Ua.contextTypes={store:Y.object},Ua.propTypes=ja,Ua.defaultProps={fluid:!0,muted:!1,playsInline:!1,aspectRatio:'auto'},Ua.displayName='Player';var Ka=function(e){function a(e,t){j(this,a);var n=z(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e,t));return v('PlaybackRate','PlaybackRateMenuButton'),n}return V(a,e),U(a,[{key:'render',value:function(){return D.createElement(Ra,this.props)}}]),a}(a.Component);Ka.displayName='PlaybackRate',e.Player=Ua,e.Video=Ve,e.BigPlayButton=Ie,e.LoadingSpinner=c,e.PosterImage=p,e.Bezel=We,e.Shortcut=Ye,e.ControlBar=xa,e.PlayToggle=na,e.ForwardControl=da,e.ReplayControl=ia,e.FullscreenToggle=ca,e.ProgressControl=aa,e.SeekBar=Qe,e.Slider=Xe,e.PlayProgressBar=f,e.LoadProgressBar=C,e.MouseTimeDisplay=P,e.RemainingTimeDisplay=E,e.CurrentTimeDisplay=T,e.DurationDisplay=S,e.TimeDivider=N,e.VolumeMenuButton=Ta,e.PlaybackRateMenuButton=Ra,e.PlaybackRate=Ka,e.playerActions=_e,e.videoActions=Ee,e.playerReducer=i,e.operationReducer=s,Object.defineProperty(e,'__esModule',{value:!0})});
//# sourceMappingURL=video-react.full.min.js.map
